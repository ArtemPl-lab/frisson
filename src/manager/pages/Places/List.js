import { Link, useLocation } from 'react-router-dom';
import { PlaceCard } from '../../components/PlaceCard';
import { useStore } from '../../store';
import styles from './Places.module.css';

export const PlacesList = props => {
    const { manager, places } = useStore();
    const location = useLocation();
    return(
        <div className={styles.wrapper}>
            <header className={styles.header}>
                <div className={styles.info}>
                    <div className={styles.id}>
                        id: {manager.data.id}
                    </div>
                    <div className={styles.username}>
                        {manager.data.full_name}
                    </div>
                </div>
                <div className={styles.actions}>
                    <Link className={styles.action} to="/settings">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.0625 5.625C7.62498 5.625 5.68748 7.5625 5.68748 10C5.68748 12.4375 7.62498 14.375 10.0625 14.375C12.5 14.375 14.4375 12.4375 14.4375 10C14.4375 7.5625 12.5 5.625 10.0625 5.625ZM10.0625 13.125C8.31248 13.125 6.93748 11.75 6.93748 10C6.93748 8.25 8.31248 6.875 10.0625 6.875C11.8125 6.875 13.1875 8.25 13.1875 10C13.1875 11.75 11.8125 13.125 10.0625 13.125Z" fill="#0E2F56"/>
                            <path d="M19.25 7.9375L17.5 7.375L17.125 6.4375L18 4.8125C18.1875 4.4375 18.125 3.9375 17.8125 3.625L16.3125 2.125C16 1.8125 15.5 1.75 15.125 1.9375L13.5 2.8125L12.5625 2.4375L12 0.6875C11.875 0.3125 11.5 0 11.0625 0H8.9375C8.5 0 8.125 0.3125 8.0625 0.75L7.5 2.5C7.125 2.5625 6.8125 2.6875 6.5 2.875L4.875 2C4.5 1.8125 4 1.875 3.6875 2.1875L2.1875 3.6875C1.875 4 1.8125 4.5 2 4.875L2.8125 6.4375C2.6875 6.75 2.5625 7.125 2.4375 7.4375L0.6875 8C0.3125 8.125 0 8.5 0 8.9375V11.0625C0 11.5 0.3125 11.875 0.75 12L2.5 12.5625L2.875 13.5L2 15.125C1.8125 15.5 1.875 16 2.1875 16.3125L3.6875 17.8125C4 18.125 4.5 18.1875 4.875 18L6.5 17.125L7.4375 17.5L8 19.3125C8.125 19.6875 8.5 20 8.9375 20H11.0625C11.5 20 11.875 19.6875 12 19.3125L12.5625 17.5L13.5 17.125L15.125 18C15.5 18.1875 16 18.125 16.3125 17.8125L17.8125 16.3125C18.125 16 18.1875 15.5 18 15.125L17.125 13.5L17.5 12.5625L19.3125 12C19.6875 11.875 20 11.5 20 11.0625V8.9375C20 8.5 19.6875 8.0625 19.25 7.9375ZM18.75 10.875L16.5 11.5625L16.4375 11.875L15.875 13.1875L15.6875 13.5L16.8125 15.5625L15.5625 16.8125L13.5 15.6875L13.1875 15.875C12.75 16.125 12.3125 16.3125 11.875 16.4375L11.5625 16.5L10.875 18.75H9.125L8.4375 16.5L8.125 16.4375L6.8125 15.875L6.5 15.6875L4.4375 16.8125L3.1875 15.5625L4.3125 13.5L4.125 13.1875C3.875 12.75 3.6875 12.3125 3.5625 11.875L3.5 11.5625L1.25 10.875V9.125L3.375 8.5L3.5 8.1875C3.625 7.6875 3.8125 7.25 4.0625 6.8125L4.25 6.5L3.1875 4.4375L4.4375 3.1875L6.4375 4.3125L6.75 4.125C7.1875 3.875 7.625 3.6875 8.125 3.5625L8.4375 3.4375L9.125 1.25H10.875L11.5625 3.4375L11.875 3.5625C12.3125 3.6875 12.75 3.875 13.1875 4.125L13.5 4.3125L15.5625 3.1875L16.8125 4.4375L15.6875 6.5L15.875 6.8125C16.125 7.25 16.3125 7.6875 16.4375 8.125L16.5 8.4375L18.75 9.125V10.875Z" fill="#0E2F56"/>
                        </svg>
                        &nbsp;
                        Настройки
                    </Link>
                    <Link className={styles.action} to={`${location.pathname}/logout`}>
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M2.4 1.6C2.18783 1.6 1.98434 1.68429 1.83431 1.83431C1.68429 1.98434 1.6 2.18783 1.6 2.4V13.6C1.6 13.8122 1.68429 14.0157 1.83431 14.1657C1.98434 14.3157 2.18783 14.4 2.4 14.4H5.6C6.04183 14.4 6.4 14.4 6.4 15.2C6.4 16 6.04183 16 5.6 16H2.4C1.76348 16 1.15303 15.7471 0.702944 15.2971C0.252856 14.847 0 14.2365 0 13.6V2.4C0 1.76348 0.252856 1.15303 0.702944 0.702944C1.15303 0.252856 1.76348 0 2.4 0H5.6C6.04183 0 6.4 -5.96046e-08 6.4 0.8C6.4 1.6 6.04183 1.6 5.6 1.6H2.4Z" fill="#0E2F56"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6343 3.43431C11 3 11.4533 3.1219 11.7657 3.43431L15.7657 7.43431C16.0781 7.74673 16.0781 8.25327 15.7657 8.56569L11.7657 12.5657C11.4533 12.8781 11.2686 13.1314 10.6343 12.5657C10 12 10.3219 11.7467 10.6343 11.4343L14.0686 8L10.6343 4.56569C10.3219 4.25327 10.2686 3.86863 10.6343 3.43431Z" fill="#0E2F56"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M4.8 8C4.8 7.2 5.15817 7.2 5.6 7.2H15.2C15.6418 7.2 16 7.55817 16 8C16 8.44183 15.6418 8.8 15.2 8.8H5.6C5.15817 8.8 4.8 8.8 4.8 8Z" fill="#0E2F56"/>
                        </svg>
                        &nbsp;
                        Выйти
                    </Link>
                </div>
            </header>
            <div className={styles.headline}>
                Ваши активности
            </div>
            <div className={styles.places}>
                {
                    places.list.map(place => <PlaceCard {...place}/>)
                }
                <PlaceCard>

                </PlaceCard>
            </div>
        </div>
    );
}